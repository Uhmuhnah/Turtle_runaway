# 🐢 Turtle Runaway Game
  
> **파일:** `turtle_runaway.py`  
> **설명 문서:** `turtle_runaway.md`  
> **스크린샷:** `turtle_runaway1.png`, `turtle_runaway2.png`, `turtle_runaway3.png`

---

## 1. 프로그램 개요

`Turtle Runaway Game`은 파이썬 `tkinter`와 `turtle` 모듈을 사용해 만든 추격 게임입니다.  
사용자가 방향키로 빨간 추격자를 조종해 도망자 거북이를 제한 시간 내에 잡아 점수를 얻습니다.

*   **일반 도망자(파란색):** +1점
*   **골든 도망자(노란색):** +100점 + 게임 즉시 종료
*   **매번 잡힐 때마다 골든 등장 확률 +2% (초기 10% → 최대 100%)**
*   **시간 종료, 골든 잡음 등 모든 경우에 최종 점수만 출력**

---

## 2. 실행 방법

700×700 게임 화면이 열리고 경계선 안에서 게임이 시작됩니다.

---

## 3. 조작 방법

| 키  | 동작                    |
| :-- | :---------------------- |
| ↑   | 앞으로 이동             |
| ↓   | 머리를 반대로 돌려 뒤로 이동 |
| ←   | 왼쪽으로 회전           |
| →   | 오른쪽으로 회전         |

키를 꾹 누르면 연속 이동/회전됩니다.

여러 방향키를 동시에 눌러 복합 조작(앞+왼쪽 등)이 가능합니다.

---

## 4. 주요 클래스 설명

### `RunawayGame`

*   전체 게임 로직 관리 (점수, 타이머, 충돌 판정, 종료 처리)
*   골든 터틀 등장 확률 관리 및 점수판 갱신
*   최종 종료 메시지 출력

### `ManualMover`

*   사용자가 조종하는 추격자
*   방향키 입력을 실시간 감지하고 경계 밖으로 나가지 않도록 제한

### `RunnerAI`

*   도망자 AI
*   추격자의 위치와 진행 방향을 예측해 도망
*   경계에 가까워지면 중앙으로 회피
  
**AI 동작 알고리즘**

1.  **추격자 예측:**
    추격자의 현재 위치와 머리 방향을 기반으로 3프레임 앞의 예상 위치를 계산합니다.
    ```
    predict_x = opp_x + cos(heading) * 30
    predict_y = opp_y + sin(heading) * 30
    ```

2.  **도망 방향 결정:**
    도망자는 추격자의 예측 위치와 자신의 위치를 이용해 반대 방향 각도를 계산합니다.
    ```
    escape_angle = atan2(my_y - predict_y, my_x - predict_x)
    ```

3.  **벽 회피:**
    현재 위치가 경계선에서 50픽셀 이내일 경우, 도망 각도와 중앙을 향하는 각도를 혼합해 방향을 조정합니다.
    ```
    escape_angle = escape_angle * 0.5 + to_center * 0.5
    ```

4.  **속도 가변:**
    추격자와의 거리가 `boost_distance` (180px) 이하로 가까워지면,
    *   이동 속도를 1.8배
    *   회전 속도를 1.5배로 증가시켜 긴급 회피합니다.

5.  **경계 충돌 방지:**
    이동하기 전에 예상 좌표를 계산해 경계(±330px)를 넘지 않도록 이동 거리를 제한합니다.

이 로직 덕분에 도망자는 예측 회피 + 속도 변화 + 벽 충돌 방지를 통해 더 자연스럽게 살아남으려 행동합니다.

---

## 5. 핵심 기능

*   **골든 터틀 확률 시스템:** 초기 10% → 리스폰마다 +2% → 최대 100%
*   **골든 터틀 잡으면 +100점 후 게임 즉시 종료**
*   **정확한 충돌 판정:** 거북이 실제 크기(shapesize) 기반
*   **종료 시 통일된 화면:** 타이머·메시지 제거 후 최종 점수만 표시
